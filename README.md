# Path Checker Bookmarklet

Path Checker is a lightweight JavaScript bookmarklet tool designed to compare and validate paths between US and KR pages.
<img width="800" alt="Path Checker Bookmarklet Preview" src="https://github.com/hannahiohc/path-checker-bookmarklet/assets/81858017/c549671f-e949-4872-8ff3-315716df7523">

## How to Use
1. Copy and paste the following code to your bookmarks bar.
```
javascript:!function(){let currentPaths={cssPaths:[],jsPaths:[]},modifiedPaths={cssPaths:[],jsPaths:[]};const currentUrl=window.location.href;let modifiedUrl,currentHeading;currentUrl.includes("/kr/")?(modifiedUrl=currentUrl.replace("/kr/","/"),currentHeading="KR"):currentUrl.endsWith("/")?(modifiedUrl=currentUrl.replace(".com/",".com/kr/"),currentHeading="US"):(modifiedUrl=currentUrl.replace(".com",".com/kr/"),currentHeading="US");const extractPaths=function(doc,type){const paths=[];return doc.querySelectorAll("css"===type?'link[rel="stylesheet"]':"script[src]").forEach(function(element){const path="css"===type?element.getAttribute("href"):element.getAttribute("src");if((path.startsWith("/v/")||path.startsWith("/kr/"))&&"/kr/global/scripts/ac-kr-word-joiner-autorun.js"!==path&&(paths.push(path),path.includes("/built/"))){const regex=/\/([a-z]+)\/built\/([a-z]+)\//i,matches=path.match(regex);if(matches&&matches.length>1){const highlightedText=matches[1],highlightedPath=path.replace(highlightedText+"/",`<span style="background-color: #ffe91d;">${highlightedText}</span>/built/`);paths[paths.length-1]=highlightedPath}}}),paths},xhr=new XMLHttpRequest;xhr.open("GET",modifiedUrl,!0),xhr.onreadystatechange=function(){if(4===xhr.readyState&&200===xhr.status){const modifiedDoc=(new DOMParser).parseFromString(xhr.responseText,"text/html");currentPaths.cssPaths=extractPaths(document,"css"),currentPaths.jsPaths=extractPaths(document,"js"),modifiedPaths.cssPaths=extractPaths(modifiedDoc,"css"),modifiedPaths.jsPaths=extractPaths(modifiedDoc,"js"),function(){const existingOutputDiv=document.getElementById("outputDiv");existingOutputDiv&&document.body.removeChild(existingOutputDiv);const outputDiv=document.createElement("div");outputDiv.id="outputDiv",outputDiv.style="position: fixed; top: 0; right: 0; background: rgba(255, 255, 255, 0.9); padding: 12px 18px 15px 15px; margin: 20px 15px; z-index: 999999; color: #444; box-shadow: 5px 5px 5px 0px rgba(68,68,68,0.12); font-family: Verdana; font-size: 15px; border-radius: 16px;";const currentPathsDiv=document.createElement("div");currentPathsDiv.innerHTML="<h3>"+currentHeading+'</h3><ul id="currentList"><li>'+currentPaths.cssPaths.join("</li><li>")+"</li><li>"+currentPaths.jsPaths.join("</li><li>")+"</li></ul>";const modifiedHeading=modifiedUrl.includes("/kr")?"KR":"US",modifiedPathsDiv=document.createElement("div");modifiedPathsDiv.innerHTML='<h3 id="heading">'+modifiedHeading+'</h3><ul id="otherList"><li>'+modifiedPaths.cssPaths.join("</li><li>")+"</li><li>"+modifiedPaths.jsPaths.join("</li><li>")+"</li></ul>";const closeButton=document.createElement("button");closeButton.innerText="[Close]",closeButton.style.marginTop="25px",closeButton.addEventListener("click",function(){document.body.removeChild(outputDiv)}),outputDiv.appendChild(currentPathsDiv),outputDiv.appendChild(modifiedPathsDiv),outputDiv.appendChild(closeButton),document.body.appendChild(outputDiv);const currentList=document.getElementById("currentList"),otherList=document.getElementById("otherList"),heading=document.getElementById("heading");currentList.style="list-style: none; margin-left: 0; margin-top: 2px",otherList.style="list-style: none; margin-left: 0; margin-top: 2px",heading.style="margin-top: 15px"}()}},xhr.send()}();
```

2. Navigate to the webpage you want to inspect.

3. Click the bookmarklet you saved in step 1.

4. A floating panel will appear on the webpage displaying the paths found in both "/v/" and "/kr/" formats. If the paths match correctly, you'll see the results for both paths. If they don't match, no output will be displayed.

## Tool Limitations
* Security Policies: Due to browser security policies, this tool might not work on all websites, especially those with strict Content Security Policies (CSP).

* Path Complexity: The tool assumes standard path structures ("/v/" and "/kr/") and may not handle highly dynamic or complex path variations.
